<% content_for :head do %>
<%= stylesheet_link_tag    :karnevalister, :media => :all %>
<% end %>

<div class="header">
  <div class="container">
    <h1>Karnevalistlisteregistret</h1>
  </div>
</div>
<div class="container">
  <div class="logo">
    <img alt="Registreringrobottitle@2x" src="/images/RegistreringRobotTitle@2x.png" />
    <p><strong>Du vill bli karnevalist.</strong> Du är för tillfället</p>
      <div id="progressbar">
        <img src="/images/RegistreringProgressBar@2x.png" alt="Registreringprogressbar@2x.png" />
      </div>
    <p>karnevalist. Vi behöver bara veta vem du är.</p>
  </div>

  <%= form_for @karnevalist, :method => @method do |f| %>
    <h2>Dina uppgifter</h2>

    <div class="form-group">
      <%= f.label :id, 'ID' %>
      
      <%= f.text_field :id, :disabled => true %>
    </div>

    <div class="form-group">
      <%= f.label :personnummer, 'Personnummer' %>
      
      <%= f.text_field :personnummer, :pattern => '[0-9]*', :required => true %>
    </div>

    <div class="form-group">
      <h3>Namn</h3>

      <%= f.label :fornamn, 'Förnamn', :class => "structural" %>

      <%= f.text_field :fornamn, :placeholder => "Förnamn", :required => true %>

      <%= f.label :efternamn, 'Efternamn', :class => "structural" %>

      <%= f.text_field :efternamn, :placeholder => "Efternamn", :required => true %>
    </div>

    <div class="form-group">
     <h3>Kön</h3>
      
      <% Kon.order('id desc').all.each do |k| %>
        <%= f.radio_button :kon_id, k.id, :required => true %>
        <%= f.label "kon_id_#{k.id}", k.name %>
      <% end %>
    </div>

    <div class="form-group">
      <h3>Adress</h3>
      
      <%= f.label :gatuadress, 'Gatuadress', :class => "structural" %>
      <%= f.text_field :gatuadress, :placeholder => "Gatuadress", :required => true %>
      
      <%= f.label :postnr, 'Postnummer', :class => "structural" %>
      <%= f.text_field :postnr, :placeholder => "Postnummer", :required => true %>

      <%= f.label :postort, 'Ort', :class => "structural" %>
      <%= f.text_field :postort, :placeholder => "Ort", :required => true %>
    </div>

    <div class="form-group">
      <%= f.label :email, 'Email' %>
      
      <%= f.text_field :email, :autocorrect => :off, :autocapitalize => :none, :required => true %>
    </div>

    <div class="form-group">
      <%= f.label :telnr, 'Telefonnummer' %>
      
      <%= f.telephone_field :telnr, :required => true %>
    </div>

    <div class="form-group">
      <%= f.label :nation_id, 'Nation' %>
      
      <%= f.select :nation_id, Nation.all.collect{ |n| [n.name, n.id] } %>
    </div>

    <div class="form-group">
      <%= f.label :matpref, 'Matpreferenser' %>
      
      <%= f.text_field :matpref %>
    </div>

    <div class="form-group">
      <%= f.label :storlek_id, 'Klädstorlek' %>
      
      <%= f.select :storlek_id, Storlek.all.collect{ |s| [s.name, s.id] } %>
    </div>

    <div class="form-group">
      <%= f.label :terminer, 'Terminer i Lund' %>
      
      <%= f.number_field :terminer, :pattern => '[0-9]*' %>
    </div>

    <div class="form-group">
      <%= f.label :korkort_id, 'Körkortsbehörighet' %>
      
      <%= f.select :korkort_id, Korkort.all.collect{ |k| [k.name, k.id] } %>
    </div>

    <h2>Tidigare engagemang</h2>

    <h3>Jag har tidigare engagerat mig i</h3>
    <div class="form-group">
      <%= f.label :engagerad_kar, 'En studentkår, vilken och hur?' %>
      
      <%= f.text_field :engagerad_kar %>
    </div>
    <div class="form-group">
      <%= f.label :engagerad_nation, 'En nation, vilken och hur?' %>
      
      <%= f.text_field :engagerad_nation %>
    </div>
    <div class="form-group">
      <%= f.label :engagerad_studentikos, 'Annan studentikos förening?' %>
      
      <%= f.text_field :engagerad_studentikos %>
    </div>
    <div class="form-group">
      <%= f.label :engagerad_etc, 'Annan förening?' %>
      
      <%= f.text_field :engagerad_etc %>
    </div>

    <h3>Jag har tidigare varit aktiv som</h3>
    <div class="form-group">
      <%= f.check_box :jobbat_heltid %>
      <%= f.label :jobbat_heltid, 'Heltidare' %>
      
      <%= f.check_box :jobbat_styrelse %>
      <%= f.label :jobbat_styrelse, 'Styrelseledamot' %>
      
      <%= f.check_box :jobbat_forman %>
      <%= f.label :jobbat_forman, 'Förman eller utskottsordförande' %>
      
      <%= f.check_box :jobbat_aktiv %>
      <%= f.label :jobbat_aktiv, 'Jobbare' %>
    </div>
    
    <h3>Lundakarnevalen</h3>
    <div class="form-group">
      <%= check_box :karnevalist, :karnevalist_2010 %>
      <%= f.label :karnevalist_2010, 
                  'Jag var karnevalist under Lundakarnevalen 2010' %>
    </div>

    <h3>Intressen</h3>
    <div class="form-group">
      <%= hidden_field_tag 'karnevalist[intresse_ids][]', nil %>
      <% Intresse.all.each do |i| %>
        <%= f.radio_button :snalla_intresse, i.id %>
        <%= check_box_tag 'karnevalist[intresse_ids][]', i.id, 
                          @intresse_ids.include?(i.id) %>
        <%= f.label nil, i.name %>
        
      <% end %>
    </div>

    <h3>Sektioner</h3>
    <div class="form-group">
      <%= hidden_field_tag 'karnevalist[sektion_ids][]', nil %>
      <% Sektion.all.each do |s| %>
        <%= f.radio_button :snalla_sektion, s.id %>
        <%= check_box_tag 'karnevalist[sektion_ids][]', s.id, 
                          @sektion_ids.include?(s.id) %>
        <%= f.label nil, s.name %>
        
      <% end %>
    </div>
    <h3>Övrigt</h3>
    <div class="form-group">
      <%= f.label :ovrigt, 'Är det något annat du vill berätta?' %>
      
      <%= f.text_area :ovrigt, :rows => 6, :cols => 40 %>
    </div>

    <h3>Utcheckning</h3>
    <div class="form-group">
      <%= f.check_box :medlem_af %>
      <%= f.label :medlem_af, 'Jag är medlem i AF' %>
      
      <%= f.check_box :medlem_kar %>
      <%= f.label :medlem_kar, 'Jag är medlem i min kår' %>
      
      <%= f.check_box :medlem_nation %>
      <%= f.label :medlem_nation, 'Jag är medlem i en nation' %>
      
      <%= f.check_box :karneveljsbiljett %>
      <%= f.label :karneveljsbiljett, 'Jag har en biljett till karneveljen' %>
    </div>

    <%= content_tag(:div, "", :id => 'hr') %>

    <div class="form-group">
      <%= f.check_box :utcheckad %>
      <%= f.label :utcheckad, 'Karnevalisten är utcheckad och klar!' %>
    </div>

    <div class="form-controls">
      <%= f.submit'Spara' %>
    </div>
  <% end %>
</div>
